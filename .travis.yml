language: node_js
node_js:
- 8.9.2
notifications:
  email:
    on_success: change
    on_failure: always
script:
- npm test
before_deploy:
- npm run build
deploy:
  skip_cleanup: true
  provider: npm
  email: sandbox_JSUI@coveo.com
  api_key:
    secure: v1mGiT896/J3y4PyqciWwytoO6rNbQ566jIpnoX1WyPxqXskkyX073bfnL/cuMBK+Am1rVlUxmuDJIQHAJ+ouUZw6Gpd+F+UdtuZVX01fUXkmPrdQYghcAuRP26m+1Nq7F8nWhWtUo5ymcarIpXZw9+nAnuMw5LKIC25nlSl4JmelUo+DnsHpQ8eJWnx4s1sGyP9lPAITdLRAsUT/2kX0g65zYJuBO78+PLNeKpk0Gkck3YO3do/6WV0D0lvcDnaPjRPNbP0L4iBVK2hdgYgr+enmaV4Nm5Xeow+YbCQjOJePJu5WWolN+rYNqch7PHD7kphEQSCzotHBwngloEetVOriMZtIc5j7aoXdGrGKJx2X94lJhjfKruw2A9856VkYV9UmtlZ+1DwWLWo2GIINrBqup/og8pZmKeMOhZuRFOQopd0MF5peJon0JNK3z87zEv1bImKu/njYc7ANxtLCgx0b2Poy7PWA5WiXZmRaG9MQ7aLW6HtiWQwBSOW/y69oDmvgviIO8vU9R8cQkjXQe5j0CVqp2P7N2SKXmp9U4ISox/qjq49j66vaQ7C+57m4/YSN5T452uVAkG/DgOGsKxlyo50gc3iZRrbd8Q5yQ7vUQYt5bfAXbaisMNxc7+ACAzJFOHyjqXmbpng0ciOSwMRAtWHe6us8Tkwxpo//P8=
  on:
    tags: true
    repo: coveo/exponential-backoff
    branch: master
